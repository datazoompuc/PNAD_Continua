---
title: "datazoom.pnadcovid"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{datazoom.pnadcovid}
  %\VignetteEngine{knitr::knitr}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```



The PNAD Covid is a monthly household survey from Brazil's IBGE. The survey started in
May of 2020 and aimed to provide a better outlook on the Corona Virus pandemic in Brazil.
Note that, although similarly structured, its data is not directly comparable to the
PNAD Contínua survey from IBGE.

The original data and more information on the survey can be found [here](https://www.ibge.gov.br/estatisticas/sociais/trabalho/27947-divulgacao-mensal-pnadcovid2.html?=&t=microdados)

## Usage

Start by loading the package
```{r, eval= TRUE}
library(datazoom.pnadcontinua)
``` 

### Loading data

Function ```load_pnadcovid``` is flexible enough to process Continuous PNAD stored in three forms:

* Downloading monthly data directly from IBGE
* Reading datasets on a directory
* Reading specific csv Covid PNAD on the computer

To download data, be sure to set argument ```sources``` as a list of vectors, each 
one consisting on a quarter-year pairing. The function will store the raw microdata
on folder ```PNAD_COVID_microdata``` inside the directory set by ```download_directory```,
which defaults to the working directory.

```{r, eval = TRUE}
dates <- list(c(5, 2020), c(6, 2020))

loaded_data <- load_pnadcovid(sources = dates)

# Set language = 'pt` to have the labels in Portuguese

``` 

Alternatively, set sources as a folder or a text file path. In case you set it to a folder,
the function will read all text files in it. 

```{r,  eval=FALSE}

loaded_data <- load_pnadcovid(sources = './Desktop')

``` 

```loaded_data``` is a list of dataframes, with each element corresponding
to a different quarter and being named accordingly.


### Dictionary

The package also comes with dictionaries in English and Portuguese,
```dictionary_pnadcovid_eng```, ```dictionary_pnadcovid_pt.br```, with a description of all variables in the
survey, as well as of the values assumed by them.

```{r, eval = TRUE, echo = FALSE}
head(dictionary_pnadcovid_eng)
``` 


## Credits

Data Zoom is developed by a team at Pontifícia Universidade Católica do Rio de Janeiro (PUC-Rio), Department of Economics. Our official website is at: http://www.econ.puc-rio.br/datazoom/index.html.




